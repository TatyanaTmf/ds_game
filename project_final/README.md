# PROJECT-FINAL. Определение уязвимых групп населения и кластеризация регионов России.

## Оглавление
[1. Цели и суть проекта](#Цели-и-суть-проекта)  
[2. Этапы проекта](#Этапы-проекта)  
[3. Первичная обработка данных](#Первичная-обработка-данных)  
[4. Разведывательный анализ данных (EDA)](#Разведывательный-анализ-данных-eda)  
[5. Корреляционный анализ и отбор признаков](#Корреляционный-анализ-и-отбор-признаков)  
[6. Кластеризация регионов](#Кластеризация-регионов)  
[7. Интерпретация кластеров](#Интерпретация-кластеров)
[8. Pipeline.py](#Pipeline)  
[9. Выводы](#Выводы)  
[10. Структура проекта](#Структура-проекта)  
[11. Ресурсы проекта](#Ресурсы-проекта)

---

## **Цели и суть проекта**

Молодая НКО, которая хочет помогать малообеспеченным людям. Чтобы делать это эффективно, НКО нужно понять, где живут такие люди, и открыть там свои филиалы. Кроме того, в НКО хотят выяснить, с какими факторами связана бедность и как эти факторы связаны между собой.

Поэтому необходимо:

- кластеризовать регионы России и определить, какие из них наиболее остро нуждаются в помощи малообеспеченным/неблагополучным слоям населения;
- описать группы населения, сталкивающиеся с бедностью;
- определить факторы, влияющие на уровень бедности.

Для этого собираются и объединяются данные Росстата по ключевым направлениям, отражающим благосостояние населения, развитие экономики и социальную напряжённость. Перечень показателей включает данные о доходах, бедности, промышленном производстве, структуре инвалидности, рождаемости, доступности жилья, алкогольных и наркотических психозах, занятости, региональном продукте и другие.

**Бизнес-задача:**  

Проект посвящён анализу социально-экономических различий российских регионов и построению кластерной модели, которая позволяет выявить сходные группы регионов по ключевым характеристикам: доходы населения, структура бедности, здоровье, жилищные условия, экономическое развитие, преступность и социальная политика.

Необходимо создать типологию регионов России для выявления групп с разным уровнем благополучия, определить уязвимые территории и возможные направления поддержки.

**Техническая задача (Data Science):**  

- Формирование единого интегрированного датасета по регионам РФ.  
- Подготовка данных: очистка, преобразование, расчёт производных признаков.  
- Проведение EDA и выявление межрегиональных различий.  
- Корреляционный анализ и отбор финального набора признаков.  
- Кластеризация регионов с применением нескольких алгоритмов.  
- Интерпретация кластеров: выявление характерных профилей регионов.  
- Проверка статистической значимости различий между кластерами с помощью непараметрических тестов;
- Построение пайплайна автоматической кластеризации (`pipeline.py`).

---

## **Этапы проекта**

Проект условно разделён на несколько этапов, реализованных в трех отдельных ноутбуках и одного автоматического пайплайна:

1. **Знакомство со структурой данных и первичная обработка.**  
   Загрузка исходных таблиц Росстата, приведение форматов, базовый статистический анализ, объединение данных (`1_Data.ipynb`).

2. **Преобразование, очистка и разведывательный анализ данных.**  
   Очистка от пропусков и дубликатов, формирование итогового набора признаков для кластеризации, анализ распределений признаков по смысловым блокам, выявление выбросов и обоснование решения по их сохранению (`2_EDA.ipynb`).

3. **Кластеризация, статистический анализ и интерпретация.**  
   Стандартизация признаков, построение модели k-means, оценка различий между кластерами, визуализация профилей кластеров (boxplot, полярные диаграммы), приоритизация регионов внутри наиболее уязвимого кластера (`3_Clustering.ipynb`).

4. **Автоматизация анализа.**  
   Реализация пайплайна в виде скрипта `pipeline.py`, который выполняет весь цикл обработки и кластеризации данных и формирует итоговый отчёт (`pipeline.py`).

---

## **Первичная обработка данных**

В первом ноутбуке `1_Data.ipynb`:

- загружаются исходные таблицы Росстата;
- унифицируются названия регионов;
- добавляются производные признаки (например, бедность в абсолютных значениях, показатели на душу населения);
- удаляются неполные и технические строки;
- формируется полный набор данных;
- сохраняется итоговая таблица `data_2020_for_clustering.csv`.

---

## **Разведывательный анализ данных (EDA)**

В ноутбуке `2_EDA.ipynb`:

- исследуются распределения по всем блокам: демография, доходы, бедность, здоровье, жильё, экономика, преступность;
- строятся топы и анти-топы регионов;
- анализируются выбросы и межрегиональный размах;
- создаются и анализируются графики:
  - распределений,
  - boxplot’ов,
  - временных рядов,
  - сравнительных диаграмм;
- фиксируются ключевые различия между регионами;
- формируется понимание основных факторов, влияющих на уровень благополучия.

Выбросы не удалялись, поскольку отражают реальную неоднородность регионов и являются важной частью картины, а не ошибками.

---

## **Корреляционный анализ и отбор признаков**

Для создания качественной кластерной модели был проведён детальный корреляционный анализ:

1. Корреляции внутри тематических блоков (доходы, жильё, преступность и др.).  
2. Сокращение признаков: удаление дублей, высоко коррелирующих переменных, производных показателей.  
3. Построение общей итоговой корреляционной матрицы и проверка содержательных связей.  
4. Формирование финального набора признаков, который отражает ключевые различия регионов.

Сформированный датасет сохраняется как: `data_processed/data_for_clustering.csv`

---

## **Кластеризация регионов**

В ноутбуке `3_Clustering.ipynb`:

- данные стандартизируются (StandardScaler); 
- выбирается оптимальное число кластеров; 
- тестируются различные методы кластеризации;
- проводится PCA для визуализации и анализа структуры данных; 
- кластеризация проводится по финальному набору признаков;  
- кластеры интерпретируются через средние значения показателей;  
- выводятся списки регионов по кластерам.

Параллельно создаются визуализации:

- сравнение кластеров по тематическим блокам,  
- boxplot’ы для каждого признака,  
- полярные диаграммы профилей.

Для проверки статистически значимых различий между кластерами используются непараметрические критерии:

- тест Краскела-Уоллиса - для проверки глобальных различий по каждому признаку между тремя кластерами;
- тест Манна-Уитни - для попарного сравнения кластеров (0-1, 0-2, 1-2) по ключевым социально-экономическим показателям.

По результатам тестов для большинства экономических и социальных показателей получены низкие p-value, что подтверждает значимые различия между кластерами.

---

## **Интерпретация кластеров:**

- один из кластеров (кластер 0) интерпретируется как группа наиболее уязвимых регионов с высокой бедностью, относительно низкими доходами,
  высокой долей инвалидов и повышенной нагрузкой на систему социальной поддержки;
- другой кластер (кластер 1) характеризует экономически благополучные регионы с высокими доходами, высоким уровнем GRP и занятости;
- третий кластер (кластер 2) представляет собой «средние» регионы, где уровень бедности и доходов близок к средним значениям, но могут
  наблюдаться повышенные показатели преступности и социального напряжения.

Внутри наиболее уязвимого кластера выделяются регионы с наихудшими значениями по комбинации признаков бедности, детской бедности, доходов и
инвалидности. Отдельно формируется перечень регионов «скрытого риска» внутри среднего кластера, которые по своим показателям близки к уязвимым регионам.

---

## **Pipeline**

Файл `pipeline.py` реализует полный цикл автоматической кластеризации:

- загрузку данных `data_for_clustering.csv`;
- проверку наличия признаков и минимальную предобработку;
- стандартизацию данных;
- выполнение k-means кластеризации;
- сохранение отчёта `regions_clusters_report.csv`;
- вывод распределения регионов по кластерам;
- определение:
  - 5 наиболее уязвимых регионов внутри кластера 0,
  - 5 регионов скрытого риска в кластере 2.

Это позволяет запускать аналитику без участия ноутбуков:

---

## **Выводы**

В рамках проекта удалось:

- сформировать единый интегрированный набор социально-экономических показателей регионов;
- провести подробный разведывательный анализ;
- провести качественный отбор признаков для кластеризации;
- выделить 3 устойчивых и интерпретируемых кластера регионов России;
- с помощью непараметрических статистических тестов подтвердить значимые различия между кластерами по ключевым показателям;
- выявить наиболее уязвимые территории, характеризующиеся высоким уровнем бедности и социального неблагополучия;
- создать автоматизированный инструмент кластеризации `pipeline.py`.

Кластеры отражают реальные различия в социально-экономическом положении регионов. Результаты проекта могут быть использованы для поддержки принятия решений в сфере социальной и региональной политики, при планировании адресных мер поддержки населения и приоритизации ресурсов.

---

## **Структура проекта**

    project_final/
    ├── data_raw/ # исходные таблицы Росстата
    ├── data_processed/ # очищенные и подготовленные данные, в т.ч. data_for_clustering.csv
    ├── notebooks/ # ноутбуки: 1_Data, 2_EDA, 3_Clustering
    ├── pipeline/ # автоматический пайплайн кластеризации (pipeline.py)
    ├── output/ # сохранённые результаты кластеризации и отчёты
    ├── README.md # описание проекта
    └── requirements.txt # необходимые библиотеки

---

## **Ресурсы проекта**

Исходные таблицы, используемые в проекте, находятся здесь:

https://drive.google.com/drive/folders/1iLfGdoWBY2XFcMoueTnhD4Jb7MkK5FqZ







:arrow_up: [к оглавлению](https://github.com/TatyanaTmf/ds_game/tree/main/project_7/README.md#Оглавление)